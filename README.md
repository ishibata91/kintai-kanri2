# kintai-kanri2
コンセプトはちゃんと使おうと思えば使える勤怠アプリです。
<br>
所詮殆どプログラミングに触れてこなかった初心者が作った稚拙なものですが、見ていただけると幸いです。
<br>
コメントだらけなのは私自身始めてのプログラミング経験だったので、コードの内容を理解しながら書いていくよう心がけていたためです。
<br>
<br>
最も苦労した部分は、カレンダーの作成でした。これは$weekの変数にカレンダー関連のコードを全て足していっから$weekを出力しています。関数定義していくつかの変数を使って作った方が数倍やりやすかったなと今になって感じます。それと、日付ごとにMySQLへアクセスしてしまっているので、データが多くなると遅くなってしまうと思います。for分の外で呼び出し、配列に入れるなどするべきでした。
<br>
内容に関してましては、
<br>
・出勤時間と退勤時間が同じ日付データを使っていることによる出力時の重複の解決
<br>
・セッションが残っていることによる更新時の重複したデータ登録の解決
<br>
・ポップアップの実装
<br>
などに苦労しました。
<br>
<br>
こだわった点は、権限機能です。
<br>
同じ組織名が登録されていないとその組織の履歴は見られないし、編集も自分以外できないようになっています。GETメソッドでリンクからデータのIDを認識して編集や削除を行うのですが、そのままだとリンクに適当なIDを入れると削除できてしまうという課題がありました。私はこれをユーザー作成時にsha512でランダムな64文字のIDをユーザーに紐づけるようにしました。これによって、セッションの再読み込みによって重複したデータの登録も行われず、上記の問題を解決することができました。
<br>
sha512を使ったのは趣味です。明らかにオーバースペックです。
<br>
-------参考------
<br>
progate:html,css,javascript,php
<br>
PHP入門 確認画面付きのお問い合わせフォームをつくりながらPHPを学ぶ（第2版） (DESIGNMAP BOOKS) DESIGNMAP
<br>
これ1冊でゼロから学べる Webプログラミング超入門　ーHTML,CSS,JavaScript,PHPをまるごとマスター 掌田 津耶乃
<br>
初心者からちゃんとしたプロになる　PHP基礎入門 柏岡 秀男
<br>
https://ishiba91.conohawing.com/
